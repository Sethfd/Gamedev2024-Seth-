<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Crawler</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #282c34;
            color: white;
            padding: 20px;
        }
        .button {
            margin: 5px;
            padding: 10px;
            background-color: #61dafb;
            border: none;
            cursor: pointer;
        }
        #output {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Dungeon Crawler</h1>
    <div id="output"></div>
    <div>
        <button class="button" id="moveBtn">Move</button>
        <button class="button" id="fightBtn">Fight</button>
    </div>

    <script>
        const maze = [
            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
            [1, 0, 1, 1, 1, 1, 0, 0, 3, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1],
            [1, 0, 1, 1, 0, 0, 0, 1, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1],
            [1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1],
            [1, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1],
            [1, 0, 1, 1, 1, 1, 1, 1, 2, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1],
            [1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1],
            [1, 3, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1],
            [1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 3, 0, 0, 0, 0, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 2, 1],
            [1, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
        ];

        const rooms = {
            0: { description: "You are in the Entrance. A dark hallway stretches ahead.", exits: [1, 2] },
            1: { description: "You are in the Hallway. You see doors to the left and right.", exits: [0, 3, 4] },
            2: { description: "You are in the Treasure Room. It's filled with gold!", exits: [1] },
            3: { description: "You are in a Monster Room! Prepare to fight!", exits: [1] },
            4: { description: "You are in a Hidden Room. There's something strange here.", exits: [1] }
        };

        let currentRoom = 0;
        let playerHealth = 100;

        function updateOutput(message) {
            const output = document.getElementById('output');
            output.innerHTML = message;
        }

        function describeRoom() {
            const room = rooms[currentRoom];
            let description = room.description + "<br>";
            description += "You can go to: " + room.exits.join(", ") + ".<br>";
            updateOutput(description);
        }

        document.getElementById('moveBtn').addEventListener('click', () => {
            const room = rooms[currentRoom];
            const direction = parseInt(prompt("Which room do you want to enter? (" + room.exits.join(", ") + ")"));
            if (room.exits.includes(direction)) {
                currentRoom = direction;
                describeRoom();
            } else {
                updateOutput("You can't go that way.");
            }
        });

        document.getElementById('fightBtn').addEventListener('click', () => {
            if (currentRoom === 3) {
                fightMonster();
            } else {
                updateOutput("There is nothing to fight here.");
            }
        });

        function fightMonster() {
            let monsterHealth = Math.floor(Math.random() * 30) + 20; // Random monster health between 20 and 50
            updateOutput(`A monster with ${monsterHealth} health appears!`);

            const interval = setInterval(() => {
                if (monsterHealth <= 0) {
                    clearInterval(interval);
                    updateOutput("You defeated the monster!");
                    currentRoom = 1; // Return to hallway after defeating the monster
                    describeRoom();
                    return;
                }

                const damage = Math.floor(Math.random() * 10) + 5; // Random player damage
                monsterHealth -= damage;
                updateOutput(`You dealt ${damage} damage to the monster! Monster health: ${monsterHealth}`);

                if (monsterHealth > 0) {
                    const monsterDamage = Math.floor(Math.random() * 10) + 5; // Monster damage
                    playerHealth -= monsterDamage;
                    updateOutput(`The monster dealt ${monsterDamage} damage to you! Your health: ${playerHealth}`);

                    if (playerHealth <= 0) {
                        clearInterval(interval);
                        updateOutput("You have been defeated by the monster!");
                    }
                }
            }, 2000); // Fight every 2 seconds
        }

        // Start the game
        describeRoom();
    </script>
</body>
</html>

