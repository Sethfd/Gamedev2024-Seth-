<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Crawler</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            padding: 20px;
        }
        h1 {
            text-align: center;
        }
        #game {
            display: none;
        }
        #message {
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>Dungeon Crawler</h1>
    <div id="intro">
        <p>Welcome to the Dungeon Crawler! Click "Start" to begin your adventure.</p>
        <button id="startButton">Start</button>
    </div>
    <div id="game">
        <div id="message"></div>
        <button id="yesButton">Y: Yes</button>
        <button id="noButton">N: No</button>
    </div>
    
    <script>
        class Room {
            constructor(description) {
                this.description = description;
                this.enemies = [];
            }

            addEnemy(enemy) {
                this.enemies.push(enemy);
            }
        }

        class Enemy {
            constructor(name, health, attack) {
                this.name = name;
                this.health = health;
                this.attack = attack;
            }

            isAlive() {
                return this.health > 0;
            }
        }

        class Player {
            constructor(name) {
                this.name = name;
                this.health = 100;
                this.attack = 10;
            }

            isAlive() {
                return this.health > 0;
            }
        }

        function battle(player, enemy) {
            while (player.isAlive() && enemy.isAlive()) {
                message += `You attack ${enemy.name} for ${player.attack} damage.\n`;
                enemy.health -= player.attack;

                if (enemy.isAlive()) {
                    message += `${enemy.name} has ${enemy.health} health left.\n`;
                    message += `${enemy.name} attacks you for ${enemy.attack} damage.\n`;
                    player.health -= enemy.attack;
                    message += `You have ${player.health} health left.\n`;
                }

                if (!player.isAlive()) {
                    message += "You have been defeated!\n";
                    break;
                }
            }
        }

        let rooms = [];
        let enemies = [];
        let player;
        let currentRoomIndex = 0;
        let message = "";

        function initializeGame() {
            // Create rooms
            rooms = [
                new Room("You are in a dimly lit room. A foul smell lingers in the air."),
                new Room("You enter a damp and musty chamber, with shadows dancing on the walls."),
                new Room("You find yourself in a small treasure room filled with gold and jewels."),
                new Room("You walk into a dark cave, with echoes of distant growls."),
                new Room("You enter a vast library filled with ancient tomes and dusty scrolls."),
                new Room("You discover a hidden alcove, covered in spider webs."),
                new Room("You step into a room adorned with strange murals and flickering torches."),
                new Room("You find a flooded room, with water lapping at your feet."),
                new Room("You enter a grand hall with a towering statue at its center."),
                new Room("You stumble into a mysterious portal, swirling with colors."),
                new Room("You walk into a dusty workshop filled with broken tools."),
                new Room("You find a darkened throne room, with a large throne shrouded in shadows."),
                new Room("You enter a chamber filled with crystals that glow softly."),
                new Room("You walk into a garden of mushrooms, some of them glowing eerily."),
                new Room("You find a room where the walls seem to whisper secrets."),
                new Room("You enter a narrow corridor that feels like it leads to nowhere.")
            ];

            // Create enemies
            enemies = [
                new Enemy("Goblin", 30, 5),
                new Enemy("Orc", 50, 8),
                new Enemy("Skeleton", 25, 6),
                new Enemy("Troll", 70, 10),
                new Enemy("Evil Wizard", 40, 12),
                new Enemy("Vampire", 60, 9),
                new Enemy("Zombie", 35, 4),
                new Enemy("Werewolf", 80, 11),
                new Enemy("Mummy", 45, 7),
                new Enemy("Ghost", 50, 8)
            ];

            // Assign enemies to rooms randomly
            for (let i = 0; i < rooms.length; i++) {
                if (Math.random() > 0.5) { // 50% chance to add an enemy
                    const randomEnemy = enemies[Math.floor(Math.random() * enemies.length)];
                    rooms[i].addEnemy(randomEnemy);
                }
            }

            const playerName = prompt("Enter your character's name:");
            player = new Player(playerName);
            currentRoomIndex = 0;

            startRoom();
        }

        function startRoom() {
            const currentRoom = rooms[currentRoomIndex];
            message = currentRoom.description + "\n";

            if (currentRoom.enemies.length > 0) {
                for (let enemy of currentRoom.enemies) {
                    if (enemy.isAlive()) {
                        message += `A wild ${enemy.name} appears!\n`;
                        battle(player, enemy);
                        if (!player.isAlive()) {
                            break;
                        }
                    }
                }
                currentRoom.enemies = currentRoom.enemies.filter(enemy => enemy.isAlive());
            }

            if (player.isAlive()) {
                if (currentRoomIndex < rooms.length - 1) {
                    message += "Do you want to go to the next room? (Y/N)";
                } else {
                    message += "You have explored all the rooms. Adventure ends here!";
                }
            } else {
                message += "Game over.";
            }

            document.getElementById("message").innerText = message;
            document.getElementById("game").style.display = "block";
        }

        function handleYes() {
            if (player.isAlive() && currentRoomIndex < rooms.length - 1) {
                currentRoomIndex++;
                startRoom();
            } else {
                alert("Game over.");
            }
        }

        function handleNo() {
            alert("You decided to stay in the room.");
        }

        document.getElementById("startButton").onclick = () => {
            document.getElementById("intro").style.display = "none";
            initializeGame();
        };
        document.getElementById("yesButton").onclick = handleYes;
        document.getElementById("noButton").onclick = handleNo;
    </script>
</body>
</html>


