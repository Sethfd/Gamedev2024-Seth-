<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Explorer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #222;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        #dungeon {
            white-space: pre;
            font-family: monospace;
            margin-bottom: 20px;
        }
        input {
            padding: 10px;
            font-size: 16px;
        }
    </style>
</head>
<body>

<h1>Dungeon Explorer</h1>
<pre id="dungeon"></pre>
<input type="text" id="command" placeholder="Enter move (w/a/s/d) or 'q' to quit" autofocus>

<script>
    // Create a 100-line dungeon layout with rooms and doors
    const dungeon = [];
    for (let y = 0; y < 100; y++) {
        if (y % 10 === 0 || y % 10 === 9) {
            dungeon.push([1, 1, 1, 1, 1, 1]); // Wall lines
        } else if (y % 10 === 1 || y % 10 === 3 || y % 10 === 5 || y % 10 === 7) {
            dungeon.push([1, 0, 0, 2, 0, 1]); // Path with door leading to room
        } else if (y % 10 === 2 || y % 10 === 4 || y % 10 === 6 || y % 10 === 8) {
            dungeon.push([1, 0, 1, 1, 0, 1]); // Path with wall
        }
    }

    let playerPos = [1, 1];

    function printDungeon() {
        let output = '';
        for (let y = 0; y < dungeon.length; y++) {
            for (let x = 0; x < dungeon[y].length; x++) {
                if (playerPos[0] === x && playerPos[1] === y) {
                    output += 'P '; // Player position
                } else {
                    output += dungeon[y][x] + ' ';
                }
            }
            output += '\n';
        }
        document.getElementById('dungeon').textContent = output;
    }

    function isValidMove(pos) {
        const [x, y] = pos;
        return x >= 0 && x < dungeon[0].length && y >= 0 && y < dungeon.length && dungeon[y][x] !== 1;
    }

    document.getElementById('command').addEventListener('keydown', function(event) {
        if (event.key === 'Enter') {
            const command = this.value.toLowerCase();
            this.value = ''; // Clear input

            if (command === 'q') {
                alert("Thanks for playing!");
                return;
            }

            let newPos = [...playerPos];

            if (command === 'w') newPos[1]--;
            else if (command === 's') newPos[1]++;
            else if (command === 'a') newPos[0]--;
            else if (command === 'd') newPos[0]++;

            if (isValidMove(newPos)) {
                playerPos = newPos;
                if (dungeon[playerPos[1]][playerPos[0]] === 2) {
                    alert("You found a door!");
                }
            } else {
                alert("You hit a wall!");
            }

            printDungeon();
        }
    });

    printDungeon(); // Initial display
</script>

</body>
</html>
