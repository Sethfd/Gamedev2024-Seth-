<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playable Maze with Custom Icons</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        .maze {
            display: grid;
            grid-template-columns: repeat(30, 20px);
            gap: 1px;
            background-color: rgba(255, 255, 255, 0.8);
        }
        .cell {
            width: 20px;
            height: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        .wall {
            background-color: #000;
        }
        .path {
            background-image: url('https://github.com/Sethfd/Gamedev2024-Seth-/blob/main/public/pixil-frame-0%20(1).png?raw=true');
            background-size: cover;
            background-position: center;
        }
        .player {
            background-image: url('https://github.com/Sethfd/Gamedev2024-Seth-/blob/main/public/pixil-frame-0%20(5).png?raw=true'); /* New custom player icon */
            background-size: cover;
            width: 20px;
            height: 20px;
        }
        .key {
            background-image: url('https://github.com/Sethfd/Gamedev2024-Seth-/blob/main/public/pixil-frame-0%20(2).png?raw=true'); /* Key icon URL */
            background-size: cover;
            width: 20px;
            height: 20px;
        }
    </style>
</head>
<body>
    <div class="maze" id="maze"></div>

    <script>
        const mazeData = [
            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
            [1, 0, 0, 1, 0, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 1, 1],
            [1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1],
            [1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1],
            [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
            // Add more rows to create a playable maze
        ];

        const mazeElement = document.getElementById('maze');
        let playerPosition = { x: 1, y: 1 }; // Starting position of the player
        let keysCollected = 0;
        const totalKeys = 10;

        // Function to place keys randomly in the maze
        function placeKeys() {
            let placedKeys = 0;
            while (placedKeys < totalKeys) {
                const x = Math.floor(Math.random() * 28) + 1; // Random x between 1 and 28
                const y = Math.floor(Math.random() * 14) + 1; // Random y between 1 and 14

                if (mazeData[y][x] === 0) { // Place key only on path
                    mazeData[y][x] = 2; // Use '2' to represent a key
                    placedKeys++;
                }
            }
        }

        // Render the maze
        function renderMaze() {
            mazeElement.innerHTML = ''; // Clear the maze element
            mazeData.forEach((row, rowIndex) => {
                row.forEach((cell, colIndex) => {
                    const cellDiv = document.createElement('div');
                    cellDiv.className = 'cell ' + (cell === 1 ? 'wall' : 'path');

                    // Add player
                    if (rowIndex === playerPosition.y && colIndex === playerPosition.x) {
                        cellDiv.classList.add('player');
                    }

                    // Add keys
                    if (cell === 2) {
                        cellDiv.classList.add('key');
                    }

                    mazeElement.appendChild(cellDiv);
                });
            });

            // Show collected keys
            document.title = `Keys Collected: ${keysCollected}/${totalKeys}`;
        }

        // Move player
        function movePlayer(dx, dy) {
            const newX = playerPosition.x + dx;
            const newY = playerPosition.y + dy;

            // Check if the new position is a path (0) or a key (2)
            if (mazeData[newY] && (mazeData[newY][newX] === 0 || mazeData[newY][newX] === 2)) {
                if (mazeData[newY][newX] === 2) { // If the player moves to a key
                    keysCollected++;
                    mazeData[newY][newX] = 0; // Remove the key from the maze
                }
                playerPosition.x = newX;
                playerPosition.y = newY;
                renderMaze();
            }
        }

        // Handle keyboard input
        document.addEventListener('keydown', (event) => {
            switch (event.key) {
                case 'ArrowUp':
                    movePlayer(0, -1);
                    break;
                case 'ArrowDown':
                    movePlayer(0, 1);
                    break;
                case 'ArrowLeft':
                    movePlayer(-1, 0);
                    break;
                case 'ArrowRight':
                    movePlayer(1, 0);
                    break;
            }
        });

        // Place keys and initial render
        placeKeys();
        renderMaze();
    </script>
</body>
</html>
