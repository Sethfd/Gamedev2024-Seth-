<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Crawler</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            padding: 20px;
        }
        h1 {
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>Dungeon Crawler</h1>
    <script>
        class Room {
            constructor(description) {
                this.description = description;
                this.enemies = [];
            }

            addEnemy(enemy) {
                this.enemies.push(enemy);
            }
        }

        class Enemy {
            constructor(name, health, attack) {
                this.name = name;
                this.health = health;
                this.attack = attack;
            }

            isAlive() {
                return this.health > 0;
            }
        }

        class Player {
            constructor(name) {
                this.name = name;
                this.health = 100;
                this.attack = 10;
            }

            isAlive() {
                return this.health > 0;
            }
        }

        function battle(player, enemy) {
            while (player.isAlive() && enemy.isAlive()) {
                alert(`You attack ${enemy.name} for ${player.attack} damage.`);
                enemy.health -= player.attack;

                if (enemy.isAlive()) {
                    alert(`${enemy.name} has ${enemy.health} health left.`);
                    alert(`${enemy.name} attacks you for ${enemy.attack} damage.`);
                    player.health -= enemy.attack;
                    alert(`You have ${player.health} health left.`);
                }

                if (!player.isAlive()) {
                    alert("You have been defeated!");
                    break;
                }
            }
        }

        function startGame() {
            const room1 = new Room("You are in a dimly lit room.");
            const room2 = new Room("You enter a damp and musty chamber.");

            const goblin = new Enemy("Goblin", 30, 5);
            const orc = new Enemy("Orc", 50, 8);

            room1.addEnemy(goblin);
            room2.addEnemy(orc);

            const playerName = prompt("Enter your character's name:");
            const player = new Player(playerName);

            let currentRoom = room1;

            while (player.isAlive()) {
                alert(currentRoom.description);

                if (currentRoom.enemies.length > 0) {
                    for (let enemy of currentRoom.enemies) {
                        if (enemy.isAlive()) {
                            alert(`A wild ${enemy.name} appears!`);
                            battle(player, enemy);
                            if (!player.isAlive()) {
                                break;
                            }
                        }
                    }
                    currentRoom.enemies = currentRoom.enemies.filter(enemy => enemy.isAlive());
                }

                const nextRoom = prompt("Do you want to go to the next room? (yes/no)");
                if (nextRoom.toLowerCase() === "yes") {
                    currentRoom = room2; // For simplicity, always move to room2
                } else {
                    alert("You decided to stay in the room.");
                }
            }

            alert("Game over.");
        }

        startGame();
    </script>
</body>
</html>
